---
description: 
globs: 
alwaysApply: true
---
---
description: Architectural constraints & module contracts for Snake.
globs:
  - "main.s"
  - "snake.s"
  - "render.s"
alwaysApply: false
---
# Module Contracts
* `snake_advance` must be branchless except for death detection.
* `render_flush` should use diffing algorithm – only dirty rows to STDOUT.
* `rand_next` cannot touch stack; must finish in ≤8 cycles on A77.